---
title: 云计算与虚拟化学习笔记
description: 杭州宏杉学习笔记-云计算与虚拟化
#cover: /cover/cover2.png
tag:
- 杭州宏杉
- 云计算
- 虚拟化
  #sticky: 999
date: 2025-07-10 8:52
---

# 云计算与虚拟化

## 云计算

* 什么是云计算：通俗来讲云计算就是把计算机资源变成了像水电一样的基础资源，让任何人都能在需要时取用计算机资源（按需使用），而无需自建服务器机房（只需投入很少的管理工作）
  
* 云计算的**特性**：
  * **按需自助**：类似自助餐，用户可以直接在云平台上自己开通计算，存储等服务
  * **广阔的网络访问**：云服务通常有公网，可用任何设备随时随地访问
  * **资源池化**：云厂商把计算、存储等资源集中成“池子”，所有用户共享，但互相隔离（你的云服务器和别人的在同一台物理机上，但彼此是独立的）
  * **快速弹性伸缩**：能根据业务需求秒级扩容或缩容（网络带宽，硬盘，内存等）
  * **可计量服务**：用多少算多少钱

* 云计算的**服务类型**：
  * SaaS(Software as a Service)：软件即服务，如企业微信，钉钉等在线办公以及云仓库平台，无需自建服务器即可使用的软件工具
  * PaaS(Platform as a Service)：平台即服务，如函数计算，Vercel等静态网页托管网站，上传代码自动运行，无需管理服务器
  * IaaS(Infrastructure as a Service)：基础设施即服务，如阿里云ECS云服务器等需要完全控制OS或运行自定义软件
  
* 云计算的**部署模式**：
  * 私有云：企业利用自有或租用的设施自建的云
  * 社区云/行业云：为特定社区或行业所构建的共享基础设施的云
  * 共有云：出租给公众的大型基础设施的云
  * 混合云：由两种或两种以上部署模式组成的云
  
* 云计算关键技术：
  * 计算架构：采用Scale Out模式（横向拓展，堆叠多个计算资源）而非Scale Up模式（纵向拓展，升级单个计算资源）
  * 云计算硬件：服务器，交换机，存储
  * 云计算软件：并行计算技术，分布式存储，分布式文件管理，虚拟化技术，智能化云计算系统管理技术等

* 集群：多台主机提供相同的服务的一组相互独立的计算机就叫**集群**（cluster），单个的计算机系统就是集群的**节点**（node）

* 虚拟化：将资源抽象成共享资源池，上层操作系统与硬件解耦，操作系统从资源池中分配资源，用户可以将单个物理硬件系统为基础创建多个模拟环境或专用资源，从而将一个系统划分为不同的、单独安全环境，也就是虚拟机
  
* 虚拟化的本质：
  * **分区**：在单一物理服务器上同时运行多个虚拟机
  * **隔离**：多个虚拟机之间相互隔离
  * **封装**：整个虚拟机执行环境封装在独立文件中，可以通过移动文件的方式来迁移该虚拟机
  * **相对于硬件独立**：虚拟机无需修改，即可在任何服务器上运行
  
* 虚拟化中的重要概念：
  * Host Machine：物理机，宿主机
  * Host Os：物理机的OS
  * Hypervisor：虚拟化软件层/虚拟机监控机（Virtual Machine Monitor，VMM）
  * Guest Mechine：虚拟机
  * Guest OS：虚拟机的OS

* 主流的虚拟化技术：Hyper-v, VMware ESXi, Huawei FusionSphere, KVM, Xen

* 计算**虚拟化技术的分类**：
  * 虚拟化对象：CPU虚拟化，内存虚拟化，I/O虚拟化
  * 虚拟化过程：全虚拟化，半虚拟化，硬件辅助虚拟化

* CPU虚拟化：让一个物理CPU假装成多个虚拟CPU供多个虚拟机使用：
  * 全虚拟化：通过一个虚拟化层完全模拟CPU指令，让虚拟机不知道自己运行在虚拟环境中。但是性能损耗较大，如VMware ESXi
  * 半虚拟化：让虚拟机知道自己被虚拟化，并主动配合Hypervisor优化指令执行。但是需要修改系统内核（Linux可以，win不信）
  * 硬件辅助虚拟化：CPU厂商直接在硬件层面支持虚拟化，性能接近原生，兼容性好。如KVM，Hyper-v
  * 容器化（轻量级虚拟化）：不虚拟化整个CPU，而是让多个容器共享一个操作系统内核，通过隔离技术分配资源。如Docker，Kuberbetes

* I/O虚拟化：
  * 全虚拟化：Hypervisor完全模拟一个标准的硬件设备，但是性能差
  * 半虚拟化：Hypervisor提供优化过的虚拟设备驱动（如virtio）VM需要安装特定驱动
  * 硬件辅助虚拟化：物理设备原生支持虚拟化
  * 设备直通：将整个设备直接独占分配给一个VM
  
* 虚拟化技术：
  * 虚拟化平台：通过虚拟化平台实现虚拟机资源的灵活调度、池化
  * 高可用：同一集群内某台计算机节点故障，其上承载的虚拟机能够在其他节点自动重新启动
  * 迁移：能够将某计算节点上承载的虚拟机迁移到其他计算节点
  * 虚拟机快照：保存虚拟机在某一时刻的数据状态，当发生故障后可进行回滚
  * 虚拟机热升级：在不需要停机的情况下，添加CPU，内存，磁盘等资源，减少业务系统的停机时间。
  * 分布式资源调度（Distributed Resource Scheduler）：通过热迁移技术和智能算法，动态均衡集群内资源负载
  
* 存储技术：
  * SAN存储（Storage Area Network）：是一种专为高速数据访问设计的网络存储系统，它将硬盘等存储设备集中管理，并通过专用网络（如光纤）分配给服务器，让服务器像使用本地硬盘一样远程访问存储。SAN的两种主流协议：光纤通道（FC SAN），iSCSI SAN（以太网传输）
  * 分布式存储应用架构：将海量数据分散存储在多台服务器上的软件系统，通过协同管理实现高可靠、高扩展和高性能，比如HDFS

* **云平台管理功能**：
  * 弹性计算
  * 裸金属服务：一种既具备物理机性能、又有云服务弹性的计算服务，能让用户直接租用云厂商的物理服务器（可以理解为包整机）
  * V2V迁移服务（Virtual to Virtual）：指将VM从一台虚拟化平台搬到另一台虚拟化平台（好比我要把测试环境的软件搬到生产环境去）
  * 资源编排：通过鼠标拖拉拽等方式快速构建业务资源环境
  * 多区域管理：总部统一管理所有区域资源
  * 灾备服务
  * VMware接管功能：对接VMware vCenter，支持数据中心、集群和主机发现
  * 全局监控

* 超融合：用软件定义的方式，将计算、存储、网络整合到标准服务器中（侠义地理解为一体机，将服务器，存储阵列，网络交换机等整合为一体）

* MCloud(MacroSAN Cloud)部署方式：
  * 本地部署
  * 超融合部署
  * 分布式分离部署
  * SAN分离部署
  * SAN+分布式块融合部署
  
* MCloud高可用：
  * 硬件高可用
  * 管理节点高可用：双节点高可用，节点间采用master-slave方式
  * 云主机高可用：宿主机故障云主机自动迁移
  * 网络高可用：VPC网络，VPC双机
  * 分布式存储高可用
